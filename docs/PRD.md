# PRD - Cooking Record (Intimacy Hub)

## 1. 项目背景与目标
本项目旨在打造一款极致简约、隐私优先、且具备 Premium 视觉质感的Cook/亲密关系记录小程序。通过数字化的方式，帮助用户追踪年度活动频率，提升生活参与感。

**核心理念：**
- **隐私至上**：不建立云端数据库，所有数据均存储在用户手机本地，物理级保障隐私。
- **视觉驱动**：采用深色毛玻璃（Glassmorphism）风格，追求超越小程序平均水平的精致感。
- **数据可视化**：通过 GitHub 风格热力图直观反馈坚持的成果。

---

## 2. 用户分析 & 使用场景
**目标用户：**
- 追求生活仪式感、希望记录Cook或其他亲密瞬间的个人或伴侣。
- 习惯进行长期目标追踪，偏见可视化数据反馈的用户。

**使用场景：**
1. **即时记录**：Cook完成后，快速录入评分、时长和备注。
2. **回顾激励**：查看首页的热力图，由于颜色的点亮产生心理成就感。
3. **数据管理**：在年末或需要归档时，将本地数据导出为 CSV 进行备份。

---

## 3. 功能需求定义

### 3.1 首页 (Dashboard)
- **英雄卡片 (Hero Card)**：
    - 展示当前年度进度的百分比环形图。
    - 记录已完成次数与年度总目标的对比（如：`65 / 150`）。
- **活动分布 (Heatmap)**：
    - 展示最近 4 个月的滚动热力图。
    - 颜色深度由**当日Cook次数**驱动（1次-4次+对应不同紫度）。
- **快捷计时**：支持一键开启/结束计时，结束时自动带入弹窗。
- **最近记录**：列表展示最近 3 次活动的标题、时间（相对/绝对显示）及摘要。

### 3.2 记录录入 (Record Adding)
- **交互形式**：悬浮毛玻璃弹出卡片（Floating Modal）。
- **录入维度**：
    - **DATE/TIME**：支持补录历史。
    - **DURATION**：提供预设时长胶囊（15m, 30m...）及自定义。
    - **INTENSITY**：1.0-5.0 粒度滑动条，实时数值反馈。
    - **NOTES**：最大 200 字备注。
- **保存策略**：点击后立即计算时间戳，更新本地 Storage 并重绘热力图。

### 3.3 设置中心 (Settings)
- **目标设定**：通过滑动条设定 0-365 的年度挑战目标。
- **数据安全**：
    - **导出数据**：生成 CSV 并调起微信文件分享。
    - **重置进度**：清空计数，保留历史。
    - **永久销毁**：清零所有记录（需二次危险弹窗确认）。

---

## 4. 视觉与交互规范
- **色彩标准**：
    - 背景：`#1c1c1e` (iOS System Dark)
    - 主色：`#7c3aed` (Electric Purple)
    - 辅色：渐变紫色、半透白色 (0.03-0.08)。
- **布局标准**：
    - 弹窗圆角：`32px` (全圆角悬浮)。
    - 按钮：高度 `56px`，圆角 `28px`，字体 `16px/600`。
    - 间距：标签与组件间距固定为 `12px`，区域间距 `28px`。
- **动效反馈**：
    - 按钮点击缩放 (0.97 Scale)。
    - 弹窗采用贝塞尔曲线 `cubic-bezier(0.2, 0.8, 0.2, 1)` 滑入。

---

## 5. 技术架构
- **框架**：微信小程序原生 (WXML/WXSS/JS)。
- **存储**：`wx.setStorageSync` 本地持久化。
- **渲染逻辑**：
    - 采用单向数据流。
    - 自定义 `heatmap.js` 逻辑层负责将 Timestamp 转化为网格坐标。
    - 支持跨设备（iOS/Android）日期字符串解析优化。

---

## 6. 未来迭代展望 (V1.1+)
- 支持照片上传功能（本地 File 存取）。
- 支持多维度标签（如餐点类型、参与人）。
- 情报分析报告（如：最常Cook的时间段分析）。
